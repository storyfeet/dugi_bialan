{{export title="math"}}

<p><span id="num_out">_</span></p>

<button onclick="newNumber()">New Number</button>

<script type="module">

import {fontMap} from "/js/jsfontmapper.js";

const D_ZERO = fontMap["viazo"];
const D_ONE = fontMap["won"];
const D_TWO = fontMap["di"];
const D_THREE = fontMap["van"];
const D_FOUR = fontMap["mo"];
const D_FIVE = fontMap["lan"];
const D_SIX = fontMap["zeis"];
const D_SEVEN = fontMap["vos"];
const D_EIGHT = fontMap["lis"];
const D_NINE = fontMap["lein"];
const D_TEN = fontMap["lo"];
const D_THOUSAND = fontMap["za"];

const nums = [D_ZERO,D_ONE,D_TWO,D_THREE,D_FOUR,D_FIVE,D_SIX,D_SEVEN,D_EIGHT,D_NINE,D_TEN,D_THOUSAND];


const dom = {
	numOut:document.getElementById("num_out"),
};

function rand(n,max){
	if (max) {
		return Math.floor(Math.random() * (max-n)) + n;
	}
	return Math.floor(Math.random() * n); 
}

function buildNumber(n){
	let p10 = 0;
	while (Math.pow(10,p10) <= n) p10+=1 ;
	p10 -=1;

	let res = "";

	for (let i = 0; i < p10 % 3; i++){
		res += D_TEN;
	}
	for (let i = 0; i < Math.floor(p10 / 3) ; i++){
		res += D_THOUSAND;
	}
	return res;
}

window.newNumber = () =>{
	
	let pow = rand(1,10);
	let n = rand(Math.pow(10,pow));

	let dnum = buildNumber(n);
	dom.numOut.innerText = `${n} ${dnum}`;

}
</script>


